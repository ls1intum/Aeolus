api: v0.0.1
metadata:
  name: ARTEMISTESTUSER1
  id: BAMBOOEX3-ARTEMISTESTUSER1
  description: Build plan for exercise BAMBOOEX3
  author: bamboo
  gitCredentials: artemis_admin
  docker:
    image: ls1tum/artemis-maven-template
    tag: java17-20
    volumes:
    - ${bamboo.working.directory}:${bamboo.working.directory}
    - ${bamboo.tmp.directory}:${bamboo.tmp.directory}
    parameters:
    - --cpus
    - '"2"'
    - --memory
    - '"2g"'
    - --memory-swap
    - '"2g"'
    - --pids-limit
    - '"1000"'
repositories:
  tests:
    url: http://bitbucket:7990/scm/bambooex3/bambooex3-tests.git
    branch: main
    path: ''
  assignment:
    url: http://bitbucket:7990/scm/BAMBOOEX3/bambooex3-artemis_test_user_1.git
    branch: main
    path: assignment
actions:
  JOB11:
    script: ./gradlew clean test
    always: false
  JOB12:
    parameters:
      ignore_time: false
      test_results: '**/test-results/test/*.xml'
    platform: bamboo
    kind: junit
    always: true
  JOB13:
    script: chmod -R 777 ${bamboo.working.directory}
    always: true